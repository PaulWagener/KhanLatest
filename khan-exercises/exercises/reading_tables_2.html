<!DOCTYPE html>
<html data-translatable data-require="math graphie word-problems">
<head>
    <meta charset="UTF-8"/>
    <title>Tabellen lezen 2</title>
    <script src="../khan-exercise.js"></script>
    <style>
        .reading span {
            width: 80px;
        }

        .reading span:first-child {
            width: 100px;
        }
    </style>
    <script>
        function fillInCorrectAnswer(schoolIndex, columnIndex, answer, color) {
            var nth = ":nth-child(" + ( columnIndex + 2 ) + ")";
            jQuery(".fake_row").eq(schoolIndex).find("span" + nth)
                    .html(answer)
                    .css("color", color);
        }
    </script>
</head>
<body>
<div class="exercise">
    <div class="vars">
        <var id="INDEX">randRange( 0, 3 )</var>
        <var id="ROWS" data-tt="array1">[ [ school(1), school(2), school(3), school(4) ], [ persoon(1), persoon(2),
            persoon(3), persoon(4) ], [ persoon(1), persoon(2), persoon(3), persoon(4) ], [ "Alabama", "Michigan", "New York",
            "Wyoming" ] ][ INDEX ]</var>
        <var id="COLUMNS" data-tt="array2">[ [ "3e klas", "4e klas", "5e klas", "Totaal" ], [ "Januari",
            "Februari", "Maart", "Totaal" ], [ "1e kwart", "2e kwart", "3e kwart", "4e kwart", "Totaal" ], [
            "Q1", "Q2", "Q3", "Q4", "Total" ] ][ INDEX ]</var>
        <var id="COL_INDEX">randRange( 0, COLUMNS.length - 1 )</var>
        <var id="ROW_INDEX">randRange( 0, ROWS.length - 1 )</var>
        <var id="ENROLLMENTS, ANSWER">
            (function() {
            var enrollments = [];
            var classMin = [ 60, 0, 2, 20 ][ INDEX ];
            var classMax = [ 80, 6, 10, 40 ][ INDEX ];
            for ( var i = 0; i &lt; ROWS.length; i++ ) {
            var enroll = randRange( classMin, classMax, COLUMNS.length - 1 );
            var total = 0;
            jQuery.each( enroll, function( i, e ) {
            total += e;
            });
            enroll.push( total );
            enrollments.push( enroll );
            }
            var answer = enrollments[ ROW_INDEX ][ COL_INDEX ];
            enrollments[ ROW_INDEX ][ COL_INDEX ] = "&nbsp;";
            return [ enrollments, answer ];
            })()
        </var>
        <var id="PROBLEM" data-tt="array3">[ "shows the enrollment at four different elementary schools that have 3rd
            through 5th grade students", "shows the number of chickens sold by four friends from January to March",
            "indicates the points scored by four players in a charity basketball game", "shows solar panel installations
            by state during the last fiscal year" ][ INDEX ]</var>
        <var id="HEADER" data-tt="array4">[ "Scholen", "Boeren", "Spelers", "Staten" ][ INDEX ]</var>
        <var id="UNIT" data-tt="array5">[ "leerlingen", "kippen", "punten", "zonnepanelen" ][ INDEX ]</var>
        <var id="HINT1" data-tt="array6">
            (function() {
            if ( COL_INDEX === COLUMNS.length - 1 ) {
            return [ "het totaal aantal leerlingen op " + ROWS[ ROW_INDEX ] + " Elementary School", "het totaal aantal kippen verkocht door " + ROWS[ ROW_INDEX ], "het totaal aantal punten behaald door " + ROWS[ ROW_INDEX ], "the
            total number of solar panels installed in " + ROWS [ ROW_INDEX ] ][ INDEX ];
            } else {
            return [ "het aantal " + COLUMNS[ COL_INDEX ] + " leerlingen op " + ROWS[ ROW_INDEX ] + " Elementary
            School", "het aantal kippen verkocht in " + COLUMNS[ COL_INDEX ] + " door " + ROWS[ ROW_INDEX ], "het aantal punten behaald in " + COLUMNS[ COL_INDEX ] + " door " + ROWS[ ROW_INDEX ], "het aantal zonnepanelen
            geinstalleerd in " + COLUMNS[ COL_INDEX ] + " in " + ROWS[ ROW_INDEX ] ][ INDEX ];
            }
            })()
        </var>
        <var id="HINT2" data-tt="array7">[ "Het totaal aantal leerlingen op " + ROWS[ ROW_INDEX ] + " Basisschool", "Het totaal aantal kippen verkocht door " + ROWS[ ROW_INDEX ], "Het totaal aantal punten behaald door
            " + ROWS[ ROW_INDEX ], "Het totaal aantal zonnepanelen geinstalleerd in " + ROWS [ ROW_INDEX ] ][ INDEX
            ]</var>
    </div>
    <div class="problems">
        <div>
            <p data-tt="hint1">Onderstaande tabel <var>PROBLEM</var> heeft een ontbrekende waarde.</p>

            <p class="question" data-tt="hint2">Welk getal moet op de lege plaats in de tabel?</p>

            <div class="fake_header reading">
                <span><var>HEADER</var></span><span data-each="COLUMNS as i, column"><var>column</var></span>
            </div>
            <div class="fake_row reading" data-each="ROWS as i, row">
                <span><var>row</var></span><span
                    data-each="ENROLLMENTS[i] as j, enrollment"><var>enrollment</var></span>
            </div>
            <div class="solution" data-type="multiple">
                <span style="padding-right: 5px" class="sol"><var>ANSWER</var></span> <var>UNIT</var>
            </div>

            <div class="hints">
                <p data-tt="hint3">In de tabel ontbreekt <var>HINT1</var>.</p>

                <div data-if="COL_INDEX === COLUMNS.length - 1" data-unwrap>
                    <div>
                        <p data-tt="hint4">In de tabel staan al <span class="hint_orange"><var>ENROLLMENTS[ ROW_INDEX
                            ].slice( 0, COL_INDEX ).join( "+" )</var></span> <var>UNIT</var>.</p>

                        <div class="graphie">
                            jQuery.each( COLUMNS, function( i, c ) {
                            if ( i !== 0 ) {
                            jQuery( ".fake_row" ).eq( ROW_INDEX ).find( "span" ).eq( i )
                            .css( "color", KhanUtil.ORANGE );
                            }
                            });
                        </div>
                    </div>
                    <div>
                        <p data-tt="hint5"><var>HINT2</var> is simply the sum, or <span
                                class="hint_pink"><var>ANSWER</var></span>.</p>

                        <div class="graphie">
                            fillInCorrectAnswer( ROW_INDEX, COL_INDEX, ANSWER, KhanUtil.PINK );
                        </div>
                    </div>
                </div>
                <div data-else data-unwrap>
                    <div>
                        <p><var>HINT2</var> is <span class="hint_blue"><var>ENROLLMENTS[ ROW_INDEX ][ COLUMNS.length - 1
                            ]</var></span>.</p>
                        </p>
                        <div class="graphie">
                            jQuery( ".fake_row" ).eq( ROW_INDEX ).find( "span" ).eq( COLUMNS.length )
                            .css( "color", KhanUtil.BLUE );
                        </div>
                    </div>
                    <div>
                        <p data-tt="hint6">The table already accounts for <span class="hint_orange"><var>ENROLLMENTS[
                            ROW_INDEX ].slice( 0, COL_INDEX ).concat( ENROLLMENTS[ ROW_INDEX ].slice( COL_INDEX + 1,
                            COLUMNS.length - 1 ) ).join( "+" )</var> =
                    <var>ENROLLMENTS[ ROW_INDEX ][ COLUMNS.length - 1 ] - ANSWER</var></span> <var>UNIT</var>.</p>

                        <div class="graphie">
                            jQuery.each( COLUMNS, function( i, c ) {
                            if ( i !== 0 ) {
                            jQuery( ".fake_row" ).eq( ROW_INDEX ).find( "span" ).eq( i )
                            .css( "color", KhanUtil.ORANGE );
                            }
                            });
                        </div>
                    </div>
                    <p data-tt="hint7">Het ontbrekende getal is het verschil tussen <var>HINT2.slice( 0, 1
                        ).toLowerCase() + HINT2.slice( 1 )</var>, <span class="hint_blue"><var>ENROLLMENTS[ ROW_INDEX ][
                        COLUMNS.length - 1 ]</var></span>, en de waarden die al in de tabel staan, <span
                            class="hint_orange"><var>ENROLLMENTS[ ROW_INDEX ][ COLUMNS.length - 1 ] -
                        ANSWER</var></span>.</p>

                    <div>
                        <p><span class="hint_blue"><var>ENROLLMENTS[ ROW_INDEX ][ COLUMNS.length - 1 ]</var></span> -
                            <span class="hint_orange"><var>ENROLLMENTS[ ROW_INDEX ][ COLUMNS.length - 1 ] - ANSWER</var></span>
                            = <span class="hint_pink"><var>ANSWER</var></span></p>

                        <div class="graphie">
                            fillInCorrectAnswer( ROW_INDEX, COL_INDEX, ANSWER, KhanUtil.PINK );
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
